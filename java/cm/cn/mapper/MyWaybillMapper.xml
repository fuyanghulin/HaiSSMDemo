<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cm.cn.mapper.MyWaybillMapper" >
<resultMap id="BaseResultMap" type="cm.cn.po.HlWaybill" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 21 14:40:10 CST 2017.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="shipper" property="shipper" jdbcType="VARCHAR" />
    <result column="consign_date" property="consignDate" jdbcType="DATE" />
    <result column="loading_date" property="loadingDate" jdbcType="DATE" />
    <result column="upload_date" property="uploadDate" jdbcType="DATE" />
    <result column="send_place" property="sendPlace" jdbcType="VARCHAR" />
    <result column="send_city" property="sendCity" jdbcType="VARCHAR" />
    <result column="load_place" property="loadPlace" jdbcType="VARCHAR" />
    <result column="load_linkman" property="loadLinkman" jdbcType="VARCHAR" />
    <result column="load_linkman_phone" property="loadLinkmanPhone" jdbcType="VARCHAR" />
    <result column="receive_place" property="receivePlace" jdbcType="VARCHAR" />
    <result column="receive_city" property="receiveCity" jdbcType="VARCHAR" />
    <result column="upload_adress" property="uploadAdress" jdbcType="VARCHAR" />
    <result column="upload_linkman" property="uploadLinkman" jdbcType="VARCHAR" />
    <result column="upload_linkman_phone" property="uploadLinkmanPhone" jdbcType="VARCHAR" />
    <result column="good_name" property="goodName" jdbcType="VARCHAR" />
    <result column="goods_id" property="goodsId" jdbcType="VARCHAR" />
    <result column="nation_code" property="nationCode" jdbcType="VARCHAR" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <result column="total" property="total" jdbcType="INTEGER" />
    <result column="weight" property="weight" jdbcType="DOUBLE" />
    <result column="volume" property="volume" jdbcType="DOUBLE" />
    <result column="freight" property="freight" jdbcType="DOUBLE" />
    <result column="car_num" property="carNum" jdbcType="VARCHAR" />
    <result column="reserve_one" property="reserveOne" jdbcType="VARCHAR" />
    <result column="reserve_two" property="reserveTwo" jdbcType="VARCHAR" />
    <result column="reserve_three" property="reserveThree" jdbcType="VARCHAR" />
    <result column="waybill_state" property="waybillState" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 21 14:40:10 CST 2017.
    -->
    id, shipper, consign_date, loading_date, upload_date, send_place, send_city, load_place, 
    load_linkman, load_linkman_phone, receive_place, receive_city, upload_adress, upload_linkman, 
    upload_linkman_phone, good_name, goods_id, nation_code, code, total, weight, volume, 
    freight, car_num, reserve_one, reserve_two, reserve_three, waybill_state
  </sql>
	<!--   根据驾驶员姓名查找到对应的订单编号 -->
	<select id="selectWayBillByDriverName" parameterType="String" resultMap="BaseResultMap">
		SELECT
		<include refid="Base_Column_List" />
		FROM
			hl_waybill bill
		WHERE
			bill.car_num IN (
				SELECT
					car_num
				FROM
					hl_carinfo car
				WHERE
					car.driver_name = #{driverName}
			)
	</select>
	<delete id="delWaybillBatch">
		DELETE
		FROM
			hl_waybill
		WHERE
			id IN 
		<foreach collection="array" item="id" index="index"
	          open="(" close=")" separator=",">
	          #{id}
	    </foreach>
	</delete>
</mapper>